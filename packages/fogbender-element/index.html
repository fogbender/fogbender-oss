<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="shortcut icon" type="image/ico" href="/src/assets/favicon.ico" />
    <title>Fogbender Solid Element</title>
    <script defer src="./src/index.tsx" type="module"></script>
  </head>
  <body>
    <!-- native HTML:
    <fogbender-simple-widget
      client-url="https://master--fb-client.netlify.app"
      token='{"widgetId":"dzAwMTQ5OTEzNjgyNjkwNzA3NDU2","customerId":"org123","customerName":"Org Name","userId":"example_PLEASE_CHANGE","userEmail":"user@example.com","userHMAC":"04b7c1aab187a84bfa3160b99c100df08c78b3a1e25884fc13d8d72a9b96ddc3","userName":"User Name","userAvatarUrl":"https://user-images.githubusercontent.com/7026/108277328-19c97700-712e-11eb-96d6-7de0c98c9e3d.png"}'
    ></fogbender-simple-widget>
    -->
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <script type="module">
      import { html, render } from "https://unpkg.com/lit-html?module";
      const token = {
        widgetId: "dzAwMTQ5OTEzNjgyNjkwNzA3NDU2",
        customerId: "org123",
        customerName: "Org Name",
        userId: "example_PLEASE_CHANGE",
        userEmail: "user@example.com",
        userHMAC: "04b7c1aab187a84bfa3160b99c100df08c78b3a1e25884fc13d8d72a9b96ddc3",
        userName: "User Name",
        userAvatarUrl:
          "https://user-images.githubusercontent.com/7026/108277328-19c97700-712e-11eb-96d6-7de0c98c9e3d.png", // optional
      };
      let show = true;
      const clickHandler = () => {
        show = !show;
        app();
      };
      const app = () => {
        const scenario1 = html`<div>
          ${show
            ? html`<fogbender-simple-widget
                client-url="https://master--fb-client.netlify.app"
                .token=${token}
              />`
            : ""}
        </div>`;

        const scenario2 = html`<div>
          ${show
            ? html`<fogbender-provider>
                <fogbender-config
                  client-url="https://master--fb-client.netlify.app"
                  .token=${token}
                ></fogbender-config>
                ${show && html`<fogbender-widget />`}
              </fogbender-provider>`
            : ""}
        </div>`;

        const scenario3 = html`<div>
          ${show
            ? html`<fogbender-provider>
                <fogbender-config
                  client-url="https://master--fb-client.netlify.app"
                  .token=${token}
                ></fogbender-config>
                <fogbender-is-configured>
                  <template data-is-configured>
                    <fogbender-headless-widget />
                    <fogbender-floating-widget />
                  </template>
                </fogbender-is-configured>
              </fogbender-provider>`
            : ""}
        </div>`;

        const myTemplate = html`
          <button id="button" @click=${clickHandler}>${show ? "Unmount" : "Remount"}</button>
          ${scenario3}
        `;
        render(myTemplate, document.body);
      };
      app();
    </script>
  </body>
</html>
